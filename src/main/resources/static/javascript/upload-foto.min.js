var Brewer=Brewer||{};Brewer.UploadFoto=function(){function e(){this.inputNomeFoto=$("input[name=foto]"),this.inputContentType=$("input[name=contentType]"),this.divFotoCerveja=$("#foto-cerveja").html(),this.template=Handlebars.compile(this.divFotoCerveja),this.uploadDrop=$("#upload-drop"),this.containerCerveja=$(".js-container-foto-cerveja")}function o(e){null==e.response.nome&&null==e.response.contentType&&(response=JSON.parse(e.response)),this.inputNomeFoto.val(response.nome),this.inputContentType.val(response.contentType),this.uploadDrop.addClass("hidden");var o=this.template({nomeFoto:response.nome});this.containerCerveja.append(o),$(".js-remove-foto").on("click",function(){$(".js-foto-cerveja").remove(),this.uploadDrop.removeClass("hidden"),this.inputNomeFoto.val(""),this.inputContentType.val("")}.bind(this))}return e.prototype.iniciar=function(){var e={type:"json",filelimit:1,allow:"*.(jpg|jpeg|png)",url:this.containerCerveja.data("url-fotos"),complete:o.bind(this)};UIkit.upload($("#upload-select"),e),UIkit.upload(this.uploadDrop,e),this.inputNomeFoto.val()&&o.call(this,{nome:this.inputNomeFoto.val(),contentType:this.inputContentType.val()})},e}(),$(function(){(new Brewer.UploadFoto).iniciar()});