"use strict";var Brewer=Brewer||{};Brewer.EstiloCadastroRapido=function(){function i(){this.modal=$("#modal-cadastro-rapido-estilo"),this.btnSalvar=this.modal.find(".js-modal-cadastro-estilo-btn-salvar"),this.form=this.modal.find("form"),this.url=this.form.attr("action"),this.inputNomeEstilo=$("#nome-estilo"),this.msgErro=$(".js-mensagem-cadastro-rapido-estilo")}return i.prototype.iniciar=function(){this.form.on("submit",function(i){i.preventDefault()}),this.modal.on("shown.bs.modal",function(){this.inputNomeEstilo.focus()}.bind(this)),this.modal.on("hide.bs.modal",function(){this.inputNomeEstilo.val(""),this.msgErro.html(""),this.msgErro.addClass("hidden"),this.form.find(".form-group").removeClass("has-error")}.bind(this)),this.btnSalvar.on("click",function(){var i=this.inputNomeEstilo.val().trim();$.ajax({url:this.url,method:"POST",contentType:"application/json",data:JSON.stringify({nome:i}),error:function(i){this.msgErro.removeClass("hidden"),this.msgErro.html("<span>"+i.responseText+"</span>"),this.form.find(".form-group").addClass("has-error")}.bind(this),success:function(i){var o=$("#estilo");o.append('<option value="'+i.id+'" >'+i.nome+"</option>"),o.val(i.id),this.modal.modal("hide")}.bind(this)})}.bind(this))},i}(),$(function(){(new Brewer.EstiloCadastroRapido).iniciar()});